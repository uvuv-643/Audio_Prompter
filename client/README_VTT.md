# VTT Subtitles Integration with TTS

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–±–æ—Ç—ã —Å .vtt —Ñ–∞–π–ª–∞–º–∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ä–µ–ø–ª–∏–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –æ–∑–≤—É—á–∫–æ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–ª–∏–∫–æ–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ó–∞–≥—Ä—É–∑–∫–∞ .vtt —Ñ–∞–π–ª–æ–≤ —Å URL –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
- –í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–π —Ä–µ–ø–ª–∏–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –≤–º–µ—Å—Ç–µ —Å —Ç–∞–π–º–∏–Ω–≥–æ–º
- **–û–∑–≤—É—á–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ —Å –ø–æ–º–æ—â—å—é Microsoft Edge TTS (–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫ –º—ã—à—å—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–∑–≤—É—á–∫–∏**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ HH:MM:SS –∏ HH:MM:SS.mmm
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ (UTF-8, CP1251, Windows-1251)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –∏ –¥—Ä—É–≥–∏—Ö Unicode —Å–∏–º–≤–æ–ª–æ–≤
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ø–ª–∞–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–≤—É—á–∞–Ω–∏–µ —Å —Ä—É—Å—Å–∫–∏–º –≥–æ–ª–æ—Å–æ–º Svetlana

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π workflow (main.py)

```bash
# –° VTT —Ñ–∞–π–ª–æ–º –ø–æ URL –∏ TTS
python main.py --vtt-url "https://example.com/subtitles.vtt" --interval 15

# –° –ª–æ–∫–∞–ª—å–Ω—ã–º VTT —Ñ–∞–π–ª–æ–º –∏ TTS
python main.py --vtt-url "file:///path/to/subtitles.vtt" --interval 10

# –ë–µ–∑ TTS (—Ç–æ–ª—å–∫–æ —Å—É–±—Ç–∏—Ç—Ä—ã)
python main.py --vtt-url "https://example.com/subtitles.vtt" --no-tts --interval 15

# –ë–µ–∑ VTT —Ñ–∞–π–ª–∞ (—Ç–æ–ª—å–∫–æ —Ç–∞–π–º–∏–Ω–≥)
python main.py --interval 15
```

### –ö–ª–∏–µ–Ω—Ç (client.py)

```bash
# –° VTT —Ñ–∞–π–ª–æ–º –∏ TTS
python client.py --vtt-url "https://example.com/subtitles.vtt" --host localhost --port 8765

# –° –ª–æ–∫–∞–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º –∏ TTS
python client.py --vtt-url "file:///path/to/subtitles.vtt"

# –ë–µ–∑ TTS (—Ç–æ–ª—å–∫–æ —Å—É–±—Ç–∏—Ç—Ä—ã)
python client.py --vtt-url "https://example.com/subtitles.vtt" --no-tts
```

## –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —Ç–∞–π–º–∏–Ω–≥–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å—É–±—Ç–∏—Ç—Ä–∞:

```
üé¨ 0:01:26
üí¨ 0:01:26 | - –ü—Ä–∏–≤–µ—Ç.
- –ü—Ä–∏–≤–µ—Ç. 25 —Ñ—É–Ω—Ç–æ–≤?
üé§ Starting speech synthesis for: - –ü—Ä–∏–≤–µ—Ç.
- –ü—Ä–∏–≤–µ—Ç. 25 —Ñ—É–Ω—Ç–æ–≤?
üñ±Ô∏è Speech completed, performing mouse click...
‚úÖ Mouse click completed
```

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —Ç–∞–π–º–∏–Ω–≥–∞ –±–µ–∑ —Å—É–±—Ç–∏—Ç—Ä–∞:

```
üé¨ 0:00:24
üîç 0:00:24 | No subtitle found
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ VTT —Ñ–∞–π–ª–∞

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç WebVTT:

```
WEBVTT

00:00:23.189 --> 00:00:25.160

00:00:41.527 --> 00:00:44.331
–í—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ...

00:00:51.914 --> 00:00:55.152
–¢—Å—Å...
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç TTS
python test_tts.py
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- `requests>=2.31.0` - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ VTT —Ñ–∞–π–ª–æ–≤ –ø–æ URL
- `edge-tts>=6.1.9` - –¥–ª—è –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏
- `aiohttp>=3.8.0` - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

## TTS –ú–æ–¥–µ–ª—å

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Microsoft Edge TTS** - –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫ —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏:

- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–≤—É—á–∞–Ω–∏–µ —Å —Ä—É—Å—Å–∫–∏–º –≥–æ–ª–æ—Å–æ–º Svetlana
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–∑–≤—É—á–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–º–æ—Ü–∏–π –∏ –∏–Ω—Ç–æ–Ω–∞—Ü–∏–π
- –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—á–∏
- –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
