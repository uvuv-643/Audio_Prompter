# Screenshot Server with Telegram Bot

–°–µ—Ä–≤–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Telegram –±–æ—Ç–æ–º –¥–ª—è –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

```bash
python server.py
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd (Ubuntu)

```bash
sudo python systemd_service.py
sudo systemctl start screenshot-server
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–µ—Ä–≤–µ—Ä

- Host: 0.0.0.0 (–≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- Port: 8765

### Telegram Bot

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8765
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª .env

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `server.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä —Å WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- `telegram_bot.py` - Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `systemd_service.py` - —Å–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
- `requirements.txt` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### Systemd –∫–æ–º–∞–Ω–¥—ã

```bash
sudo systemctl start screenshot-server
sudo systemctl stop screenshot-server
sudo systemctl status screenshot-server
sudo systemctl enable screenshot-server
sudo systemctl disable screenshot-server
```

### –õ–æ–≥–∏

```bash
journalctl -u screenshot-server -f
```

## Telegram Bot –ö–æ–º–∞–Ω–¥—ã

- `/start` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π
- `/pause` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç (–∞–Ω–∞–ª–æ–≥ –∫–Ω–æ–ø–∫–∏)

### –ö–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é

- üì∏ **Take Screenshot** - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º

## –ü—Ä–æ—Ç–æ–∫–æ–ª

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç WebSocket –¥–ª—è —Å–≤—è–∑–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏:

### –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É

1. `connection_established` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. `execute_screenshot` - –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
3. `heartbeat_ack` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ heartbeat

### –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

1. `screenshot_completed` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
2. `screenshot_error` - –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
3. `heartbeat` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
